
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	уатЗащищенныеФункцииСервер.уатСправочникФормаЭлементаПриСозданииНаСервере(Отказ, СтандартнаяОбработка, Объект, ЭтотОбъект, ДопПараметрыОткрытие);
	Если Отказ тогда
		Возврат;
	КонецЕсли;
	
	ЗаполнитьСписокВыбораВидНачисления();
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	уатЗащищенныеФункцииКлиент.уатСправочникФормаЭлементаПриОткрытии(Отказ, ДопПараметрыОткрытие);
	Если Отказ Тогда
		Возврат;
	КонецЕсли;
	
	// Для предопределённых элементов запрещено редактирование способа расчета 
	Элементы.СпособРасчетаОплатыТруда.Доступность = Не Объект.Предопределенный;
	УстановитьВидимостьИДоступностьЭлементовФормы();
	
КонецПроцедуры

#КонецОбласти


#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура СпособРасчетаОплатыТрудаПриИзменении(Элемент)
	УстановитьВидимостьИДоступностьЭлементовФормы();
КонецПроцедуры

#КонецОбласти


#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура УстановитьВидимостьИДоступностьЭлементовФормы()
	ВидимостьПриоритета = Ложь;
	Если Объект.СпособРасчетаОплатыТруда = ПредопределенноеЗначение("Перечисление.уатСпособыРасчетаОплатыТруда.ПроцентомОтВидовНачислений")
		ИЛИ Объект.СпособРасчетаОплатыТруда = ПредопределенноеЗначение("Перечисление.уатСпособыРасчетаОплатыТруда.ДоплатаЗаНочныеЧасы")
		ИЛИ Объект.СпособРасчетаОплатыТруда = ПредопределенноеЗначение("Перечисление.уатСпособыРасчетаОплатыТруда.ДоплатаЗаПраздничныеИВыходные") Тогда
			ВидимостьПриоритета = Истина;
	КонецЕсли;
	
	Элементы.Приоритет.Видимость                = ВидимостьПриоритета;
	Элементы.ГруппаБазовыеВидыРасчета.Видимость = ВидимостьПриоритета;
КонецПроцедуры

&НаСервере
Процедура ЗаполнитьСписокВыбораВидНачисления()
	
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Очистить();
	
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Добавить(
		Перечисления.уатСпособыРасчетаОплатыТруда.СдельныйЗаработок,,, БиблиотекаКартинок.уатТарифПоВыработке);
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Добавить(
		Перечисления.уатСпособыРасчетаОплатыТруда.ФиксированнойСуммой,,, БиблиотекаКартинок.уатТарифФиксированный);
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Добавить(
		Перечисления.уатСпособыРасчетаОплатыТруда.ПроцентомОтВыручки,,,	БиблиотекаКартинок.уатТарифПроцентом);
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Добавить(
		Перечисления.уатСпособыРасчетаОплатыТруда.ПроцентомОтВидовНачислений,,, БиблиотекаКартинок.уатТарифПроцентом);
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Добавить(
		Перечисления.уатСпособыРасчетаОплатыТруда.ДоплатаЗаНочныеЧасы,,, БиблиотекаКартинок.уатТарифДоплата);
	Элементы.СпособРасчетаОплатыТруда.СписокВыбора.Добавить(
		Перечисления.уатСпособыРасчетаОплатыТруда.ДоплатаЗаПраздничныеИВыходные,,, БиблиотекаКартинок.уатТарифДоплата);
	
КонецПроцедуры

#КонецОбласти
