////////////////////////////////////////////////////////////////////////////////
// Вызов сервера
// 
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Проверяет наличие записи о подсистеме "ЦентрСпутниковогоМониторинга" в регистре сведений "ВерсииПодсистем".
//
Процедура ПроверитьНаличиеПодсистемыЦентрСпутниковогоМониторинга() Экспорт
	ИмяПодсистемы = "ЦентрСпутниковогоМониторинга";
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ВерсииПодсистем.Версия
		|ИЗ
		|	РегистрСведений.ВерсииПодсистем КАК ВерсииПодсистем
		|ГДЕ
		|	ВерсииПодсистем.ИмяПодсистемы = &ИмяПодсистемы";
	Запрос.УстановитьПараметр("ИмяПодсистемы", ИмяПодсистемы);
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		// Если подсистема присутствует в регистре.
		Возврат;
	КонецЦикла;
	
	// Если подсистема не обнаружена.
	Запись = РегистрыСведений.ВерсииПодсистем.СоздатьМенеджерЗаписи();
	Запись.ИмяПодсистемы = ИмяПодсистемы;
	Запись.Версия = "0.0.0.0";
	Запись.Записать();
	
КонецПроцедуры

#КонецОбласти
