
#Область ПрограммныйИнтерфейс

// Процедура - Начать прямое геокодирование
//
// Параметры:
//  Адрес		  - Строка - адрес строкой.
//  ФормаВладелец - ФормаКлиентскогоПриложения - владелец формы.
//
Процедура НачатьПрямоеГеокодирование(Адрес, ФормаВладелец) Экспорт
		
	Если ПустаяСтрока(Адрес) Тогда
		Возврат;	
	КонецЕсли;
	
	ТекстОшибки = "";
	НайденныеВарианты = ItobРаботаСКартойВызовСервера.ПрямоеГеокодированиеАдреса(Адрес, ТекстОшибки);
	
	Если ЗначениеЗаполнено(ТекстОшибки) Тогда
		Сообщение = Новый СообщениеПользователю;
		Сообщение.Текст = ТекстОшибки;
		Сообщение.Сообщить(); 
	КонецЕсли;
	
	Если НайденныеВарианты = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ПараметрыФормы = Новый Структура("НайденныеВарианты", НайденныеВарианты);
	ОткрытьФорму("ОбщаяФорма.ItobВыборВариантаГеокодирования", 
				 ПараметрыФормы, 
				 ФормаВладелец,,,,
				 Новый ОписаниеОповещения("ОписаниеОповещенияОбратнаяОповестить",
								  		  ItobОбщегоНазначенияКлиент,
										  Новый Структура("Процедура", "ВыборМестоположенияНаКартеОбработкаВыбораАдреса")));

	
КонецПроцедуры
 
#КонецОбласти 