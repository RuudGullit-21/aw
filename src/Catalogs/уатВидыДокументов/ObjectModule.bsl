
#Область ОбработчикиСобытий

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
	Если УчетКатегорий Тогда
		ПроверяемыеРеквизиты.Добавить("Категории");
		ПроверяемыеРеквизиты.Добавить("Категории.Категория");
		
		// проверка на дубли категорий
		тблКатегории = Категории.Выгрузить().Скопировать();
		Сч = тблКатегории.Количество() - 1;
		Пока Сч >= 0 Цикл //дубли пустых категорий не проверяем
			Если НЕ ЗначениеЗаполнено(тблКатегории[Сч].Категория) Тогда
				тблКатегории.Удалить(тблКатегории[Сч]);
			КонецЕсли;
			Сч = Сч - 1;
		КонецЦикла;
		КоличДоСвертки = тблКатегории.Количество();
		тблКатегории.Свернуть("Категория");
		Если тблКатегории.Количество() <> КоличДоСвертки Тогда
			уатОбщегоНазначенияСервер.СообщитьОбОшибке(ЭтотОбъект, "В табличной части ""Категории"" присутствуют повторяющиеся значения",,, "Категории", Отказ);
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти