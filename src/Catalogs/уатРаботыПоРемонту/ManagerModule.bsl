#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

// СтандартныеПодсистемы.ВерсионированиеОбъектов

// Определяет настройки объекта для подсистемы ВерсионированиеОбъектов.
//
// Параметры:
//  Настройки	 - Структура - настройки подсистемы.
//
Процедура ПриОпределенииНастроекВерсионированияОбъектов(Настройки) Экспорт
	
	Настройки.ПриПолученииСлужебныхРеквизитов = Ложь;
	
КонецПроцедуры

// Конец СтандартныеПодсистемы.ВерсионированиеОбъектов

#КонецОбласти


#Область СлужебныйПрограммныйИнтерфейс

// Получение цены работы в нормочасах из элемента справочники или справочника нормочасов работ
//
// Параметры:
//  МодельТС	 - 	 - 
//  РаботаСсылка - 	 - 
// 
// Возвращаемое значение:
//   - 
//
Функция ПолучитьКоличествоНЧРаботы(МодельТС,РаботаСсылка) Экспорт
	КоличествоНЧ = 1;
	// Сформируем запрос на выборку цены работы
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	НормочасыРабот.КоличествоНЧ КАК КоличествоНЧ
	|ИЗ
	|	РегистрСведений.уатНормочасыРаботПоРемонту КАК НормочасыРабот
	|ГДЕ
	|	НормочасыРабот.Работа = &ВидРаботы И
	|	НормочасыРабот.МодельТС = &МодельТС";
	Запрос.УстановитьПараметр("ВидРаботы",РаботаСсылка);
	Запрос.УстановитьПараметр("МодельТС",МодельТС);
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоНЧ = Выборка.КоличествоНЧ;
	КонецЕсли;
	Возврат КоличествоНЧ;
КонецФункции

#КонецОбласти

#КонецЕсли