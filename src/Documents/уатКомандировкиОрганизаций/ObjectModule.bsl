#Область ОбработчикиСобытий

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	
	уатОбщегоНазначенияСервер.Заполнить(ЭтотОбъект, ДанныеЗаполнения);
	
	Если ТипЗнч(ДанныеЗаполнения) = Тип("ДокументСсылка.уатПутевойЛист") ИЛИ
				ТипЗнч(ДанныеЗаполнения) = Тип("ДокументОбъект.уатПутевойЛист") Тогда
		
		Дата 		= ТекущаяДата();
		Организация = ДанныеЗаполнения.Организация;
		ПЛ 			= ДанныеЗаполнения;
		
		НоваяСтрока				  = РаботникиОрганизации.Добавить();
		НоваяСтрока.Сотрудник	  = ДанныеЗаполнения.Водитель1;
		НоваяСтрока.ДатаНачала	  = ДанныеЗаполнения.ДатаВыезда;
		НоваяСтрока.ДатаОкончания = ДанныеЗаполнения.ДатаВозвращения;
		
		Если ЗначениеЗаполнено(ДанныеЗаполнения.Водитель2) Тогда
			НоваяСтрока				 		 = РаботникиОрганизации.Добавить();
			НоваяСтрока.Сотрудник	  = ДанныеЗаполнения.Водитель2;
			НоваяСтрока.ДатаНачала	  = ДанныеЗаполнения.ДатаВыезда;
			НоваяСтрока.ДатаОкончания = ДанныеЗаполнения.ДатаВозвращения;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ДанныеЗаполнения.Сотрудник1) Тогда
			НоваяСтрока				 		 = РаботникиОрганизации.Добавить();
			НоваяСтрока.Сотрудник	  = ДанныеЗаполнения.Сотрудник1;
			НоваяСтрока.ДатаНачала	  = ДанныеЗаполнения.ДатаВыезда;
			НоваяСтрока.ДатаОкончания = ДанныеЗаполнения.ДатаВозвращения;
		КонецЕсли;

		Если ЗначениеЗаполнено(ДанныеЗаполнения.Сотрудник2) Тогда
			НоваяСтрока				 		 = РаботникиОрганизации.Добавить();
			НоваяСтрока.Сотрудник	  = ДанныеЗаполнения.Сотрудник2;
			НоваяСтрока.ДатаНачала	  = ДанныеЗаполнения.ДатаВыезда;
			НоваяСтрока.ДатаОкончания = ДанныеЗаполнения.ДатаВозвращения;
		КонецЕсли;
		
		СтандартнаяОбработка = Ложь;
		
	КонецЕсли;	
	
КонецПроцедуры

Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	СуммаДокумента = РаботникиОрганизации.Итог("Сумма");
КонецПроцедуры

#КонецОбласти