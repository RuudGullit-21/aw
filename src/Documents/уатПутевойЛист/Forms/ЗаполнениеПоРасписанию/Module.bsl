
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		АвтоТест = Истина;
		Возврат;
	КонецЕсли;
	ИспользоватьВыходы = ПолучитьФункциональнуюОпцию("уатИспользоватьУчетБилетовИВыручки");
	Элементы.Выход.Видимость = ИспользоватьВыходы;
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	Если АвтоТест тогда
		Возврат;
	Конецесли;
	Если ВладелецФормы = Неопределено Тогда
		Отказ = Истина;
		ПоказатьПредупреждение(Новый ОписаниеОповещения("ПриОткрытииЗавершение", ЭтотОбъект),
			НСтр("en='Immediate opening for this object is prohibited!';ru='Непосредственное открытие для данного объекта запрещено!'"), 10);
		Возврат;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытииЗавершение(ДополнительныеПараметры) Экспорт
	Заглушка = Истина;
КонецПроцедуры

&НаСервере
Процедура ОбработкаПроверкиЗаполненияНаСервере(Отказ, ПроверяемыеРеквизиты)
	Если Не ИспользоватьВыходы Тогда
		ЭлементДляУдаления = ПроверяемыеРеквизиты.Найти("Выход");
		Если ЭлементДляУдаления <> Неопределено Тогда
			ПроверяемыеРеквизиты.Удалить(ЭлементДляУдаления);
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры


#КонецОбласти


#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	Если Не ПроверитьЗаполнение() Тогда
		Возврат;
	КонецЕсли;
	
	Закрыть(Новый Структура("Маршрут, Выход, Рейс, ИспользоватьВыходы", Маршрут, Выход, Рейс, ИспользоватьВыходы));
КонецПроцедуры

#КонецОбласти