
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("Документ") И Параметры.Свойство("ТипДокумента") Тогда
		
		тблПолучателиУведомлений = уатОбщегоНазначения_уэ.СформироватьСписокПолучателейУведомлений(Параметры.Документ, Параметры.ТипДокумента);
		Для Каждого ТекСтрока Из тблПолучателиУведомлений Цикл
			НоваяСтрока = Список.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	Закрыть(Список);
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормы_Список

&НаКлиенте
Процедура СписокПриНачалеРедактирования(Элемент, НоваяСтрока, Копирование)
	
	Если НоваяСтрока И Не Копирование Тогда
        Элемент.ТекущиеДанные.ПосылатьУведомления = Истина;
		Элемент.ТекущиеДанные.Значение = "";
		Элемент.ТекущиеДанные.ТипПолучателя = ПредопределенноеЗначение("Перечисление.уатТипыПолучателейУведомлений_уэ.ИндивидуальныйПолучатель");
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти