
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Параметры.Свойство("ВидМаршрутныхДокументов",                ВидМаршрутныхДокументов);
	Параметры.Свойство("ПериодАвтоматическогоОбновленияКарты",   ПериодАвтоматическогоОбновленияКарты);
	Параметры.Свойство("ИнформироватьОНовыхСобытиях",            ИнформироватьОНовыхСобытиях);
	Параметры.Свойство("ПериодАвтоматическогоОбновленияСобытий", ПериодАвтоматическогоОбновленияСобытий);
	Параметры.Свойство("КластеризацияМаркеровНаКарте",           КластеризацияМаркеровНаКарте);
	Параметры.Свойство("ДопустимоеОтклонениеОтВремениПрибытия",  ДопустимоеОтклонениеОтВремениПрибытия);
	Параметры.Свойство("ПунктФокусировкиПриОткрытии",            ПунктФокусировкиПриОткрытии);
	Параметры.Свойство("НачальныйМасштаб",                       НачальныйМасштаб);
	Параметры.Свойство("ИспользоватьАвтомасштабирование",        ИспользоватьАвтомасштабирование);
	Параметры.Свойство("ОтображатьДопИнформациюПоТС",            ОтображатьДопИнформациюПоТС);
	
	Элементы.ДопустимоеОтклонениеОтВремениПрибытия.Видимость = ВидМаршрутныхДокументов = 0;
	ЗаполнитьСписокВыбораМасштаба();
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийФормы

&НаКлиенте
Процедура РежимОтображенияМаршрутовПриИзменении(Элемент)
	Элементы.ДопустимоеОтклонениеОтВремениПрибытия.Видимость = ВидМаршрутныхДокументов = 0;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура СохранитьДанные(Команда)
	
	РезультатЗакрытия = Новый Структура();
	РезультатЗакрытия.Вставить("ВидМаршрутныхДокументов",                ВидМаршрутныхДокументов);
	РезультатЗакрытия.Вставить("ПериодАвтоматическогоОбновленияКарты",   ПериодАвтоматическогоОбновленияКарты);
	РезультатЗакрытия.Вставить("ИнформироватьОНовыхСобытиях",            ИнформироватьОНовыхСобытиях);
	РезультатЗакрытия.Вставить("ПериодАвтоматическогоОбновленияСобытий", ПериодАвтоматическогоОбновленияСобытий);
	РезультатЗакрытия.Вставить("КластеризацияМаркеровНаКарте",           КластеризацияМаркеровНаКарте);
	РезультатЗакрытия.Вставить("ПунктФокусировкиПриОткрытии",            ПунктФокусировкиПриОткрытии);
	РезультатЗакрытия.Вставить("НачальныйМасштаб",                       НачальныйМасштаб);
	РезультатЗакрытия.Вставить("ИспользоватьАвтомасштабирование",        ИспользоватьАвтомасштабирование);
	РезультатЗакрытия.Вставить("ОтображатьДопИнформациюПоТС",            ОтображатьДопИнформациюПоТС);
	
	Закрыть(РезультатЗакрытия);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ЗаполнитьСписокВыбораМасштаба()
	
	Для Сч = 1 По 18 Цикл 
		Элементы.НачальныйМасштаб.СписокВыбора.Добавить(Сч);
	КонецЦикла;
	
КонецПроцедуры

#КонецОбласти
