<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.19180"></meta></head><body>
<h1 style="font-size: 17.920000076293945px;">Для функционирования некоторых подсистем конфигурации требуется отдельный сервис</h1>
<h1>
</h1><p><span style="font-size: 11.199999809265137px; font-weight: normal;">Для корректной работы картографических материалов, функционала отчетов по топливу и калибровочных графиков необходимо установить сервис CsmService (CsmSvc).  </span></p>
<p><span style="font-size: 11.199999809265137px; font-weight: normal;">Чтобы установить CsmSvc, перейдите по ссылке <a href="https://www.itob.ru/support/csmsvc/">https://www.itob.ru/support/csmsvc/</a>, выберите требуемую версию сервиса и скачайте файл поставки</span></p>
<h1>Установка и настройка сервиса CsmSvc</h1>
<p>Сервис CsmSvc — это HTTP сервер. Сервис CsmSvc является поставщиком картографических материалов, осуществляет рендеринг графиков, взаимодействует с картографическими материалами различных форматов. Дополнительной функцией сервиса CsmSvc является репликация данных с сервера сбора данных в информационную базу 1С в случае использования файловой базы данных.</p>
<p>Доступ к сервису должны иметь как сервер 1С, так и все пользователи. Поэтому устанавливать сервис рекомендуется на сервере, доступном всем пользователям сети. В случае, если предполагается однопользовательская работа с файловой информационной базой, то возможна локальная установка.</p>
<p>Для установки CsmSvc сохраните дистрибутив на диск компьютера. Затем запустите сохраненную программу и следуйте инструкциям установщика.</p>
<p>В случае работы с клиент-серверным вариантом и стандартными настройками установка сервиса закончена.
    При работе с файловой базой требуется включить в настройках сервиса репликацию и указать путь к базе данных.
    <b>Внимание!</b>
    Работа службы CsmSvc с файловой базой в режиме репликации реализована в демонстрационных целях и не рекомендуется для использования на постоянной основе.</p>
<p>Дополнительные настройки сервиса CsmSvc задаются в конфигурационном файле «CsmSvc.ini». Конфигурационный файл находится в папке с установленной программой. По умолчанию сервис устанавливается в каталог C:\Program Files\CsmService\(для 32-х разрядных систем) или C:\Program Files (x86) \CsmService\ (для 64-х разрядных систем).</p>

<p>Секции файла настроек «CsmSvc.ini» и их назначение:</p>
<p class="Usual">•  <strong>[http]</strong> - Указание основного рабочего порта сервиса (по умолчанию port=8091). По указанному порту к сервису обращаются клиентские приложения и сервер 1С;</p>
<p class="Usual">•  <strong>[TileServer]</strong> - в секции задаются настройки встроенного тайлового сервера. Сервер позволяет кэшировать тайлы карт, для ускорения последующего отображения в рабочих местах диспетчера. Рекомендуется использовать в случае слабого интернет-канала или ограничения доступа пользователей в сеть интернет;</p>
<p class="Usual">•  <strong>[replication]</strong> - включение или отключение функции репликации данных (по умолчанию выключено). Используется для репликации данных мониторинга в файловую базу;</p>
<p class="Usual">•  <strong>[demo]</strong> - секция с настройками репликации для файловой базы данных.</p>
<br><p>При файловом варианте работы с информационной базой 1С в службе CsmSvc требуется установить настройки репликации и соединения с информационной базой 1С. Для этого в разделе «[replication]» устанавливаем значение «Enabled=1», в разделе «[demo]» указываем параметры подключения к серверу сбора данных (Server, Port, Login, Password) и параметры подключения к информационной базе 1С (InfoBaseConnectionString,EnterpriseVersion). После чего потребуется перезапустить сервис CsmService в диспетчере служб Windows.</p>
<p></p></body></html>