
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	Если ВладелецФормы = Неопределено Тогда
		Отказ = Истина;
		Возврат;
	КонецЕсли;
	
	ЗаполнитьЗначенияСвойств(ЭтотОбъект, ВладелецФормы, ПолучитьПоляСтруктурыНастроек());
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	
	ПараметрыЗакрытия = Новый Структура();
	ПараметрыЗакрытия.Вставить("СтруктураНастроек", ПолучитьСтруктуруНастроек());
	
	Закрыть(ПараметрыЗакрытия);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция ПолучитьСтруктуруНастроек()
	
	СтруктураНастроек = Новый Структура(
	"НастройкаРежимИзмененияДокументовИзПланировщика,
	|НастройкаВыделятьТекущийЗаказНаПланировщике,
	|НастройкаВремяМеждуПунктамиПоУмолчанию,
	|НастройкаВремяНачалаПланирования,
	|НастройкаВремяОкончанияПланирования,
	|НастройкаРазличныеЦветаСтатусовМЛ");
	ЗаполнитьЗначенияСвойств(СтруктураНастроек, ЭтотОбъект);
	Возврат СтруктураНастроек;
	
КонецФункции

&НаСервере
Функция ПолучитьПоляСтруктурыНастроек()
	
	СтруктураНастроек = "НастройкаРежимИзмененияДокументовИзПланировщика,
	|НастройкаВыделятьТекущийЗаказНаПланировщике,
	|НастройкаВремяМеждуПунктамиПоУмолчанию,
	|НастройкаВремяНачалаПланирования,
	|НастройкаВремяОкончанияПланирования,
	|НастройкаРазличныеЦветаСтатусовМЛ";
	
	Возврат СтруктураНастроек;
	
КонецФункции

#КонецОбласти
