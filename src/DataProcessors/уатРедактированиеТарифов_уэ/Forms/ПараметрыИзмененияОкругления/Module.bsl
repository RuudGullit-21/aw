
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Параметры.Свойство("ТолькоОкругление") И Параметры.ТолькоОкругление = Истина Тогда
		Заголовок = НСтр("en='Round off';ru='Округление'");
		РежимНастройки = 0;
		Элементы.ГруппаИзменениеНаПроцент.Видимость = Ложь;
	Иначе
		Заголовок = НСтр("en='Change on percent';ru='Изменение на процент'");
		РежимНастройки = 1;
	КонецЕсли;
	ТочностьОкругления = 0.1;
	
	Если Параметры.Свойство("СтарыеЦены") И Параметры.СтарыеЦены = Ложь Тогда
		Элементы.ИзменятьПроцентПоОтношению.Видимость = Ложь;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	УстановитьВидимостьДоступность();
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	СтруктураНастроек = Новый Структура("ПроцентИзменения, ИзменятьПроцентПоОтношению, Округлять, ТочностьОкругления, РежимОкругления",
		ПроцентИзменения, ИзменятьПроцентПоОтношению, Округлять, ТочностьОкругления, РежимОкругления);
	Закрыть(СтруктураНастроек);
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ОкруглятьПриИзменении(Элемент)
	УстановитьВидимостьДоступность();
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура УстановитьВидимостьДоступность()
	Элементы.ТочностьОкругления.Доступность = РежимНастройки = 0 ИЛИ Округлять;
	Элементы.РежимОкругления.Доступность = РежимНастройки = 0 ИЛИ Округлять;
КонецПроцедуры

#КонецОбласти