#Область ОбработчикиСобытийФормы

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ЗакрыватьПриВыборе = Ложь;
КонецПроцедуры

#КонецОбласти


#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура СписокТарифовВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	
	ТекСтрока = Элементы.СписокТарифов.ТекущиеДанные;
	
	Количество = 1;
	Если ЗапрашиватьКоличество Тогда
		ПоказатьВводЧисла(Новый ОписаниеОповещения("СписокТарифовВыборЗавершение", ЭтотОбъект, Новый Структура("ТекСтрока, Количество", ТекСтрока, Количество)), Количество, НСтр("en='Enter number';ru='Введите количество'"), 10, 2);
        Возврат;
	КонецЕсли;
	
	СписокТарифовВыборФрагмент(Количество, ТекСтрока);
КонецПроцедуры

&НаКлиенте
Процедура СписокТарифовВыборЗавершение(Число, ДополнительныеПараметры) Экспорт
    
    ТекСтрока = ДополнительныеПараметры.ТекСтрока;
    Количество = ?(Число = Неопределено, ДополнительныеПараметры.Количество, Число);
    
    
    СписокТарифовВыборФрагмент(Количество, ТекСтрока);

КонецПроцедуры

&НаКлиенте
Процедура СписокТарифовВыборФрагмент(Знач Количество, Знач ТекСтрока)
    
    ОповеститьОВыборе(Новый Структура("Тариф, Количество, Цена", ТекСтрока.Ссылка, Количество, ТекСтрока.Тариф));
    
    Если ЗакрыватьПриВыбореСтроки Тогда 
        Закрыть();
    КонецЕсли;

КонецПроцедуры

#КонецОбласти
